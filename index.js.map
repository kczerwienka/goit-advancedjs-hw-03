{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["//Â Described in the documentation\nimport SimpleLightbox from 'simplelightbox';\n// Optional import of styles\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nvar galleryy = new SimpleLightbox('#gallery a', { captionDelay: 250 });\n\nexport function renderPhotos(\n  url,\n  previewURL,\n  tag = 'dupa',\n  likes = '0',\n  views = '0',\n  comments = '0',\n  downloads = '0'\n) {\n  // Clears gallery gallery\n  const gallery = document.querySelector('#gallery');\n  if (gallery.childElementCount > 19) {\n    while (gallery.firstChild) {\n      gallery.removeChild(gallery.lastChild);\n    }\n  }\n\n  // Adds an line then adds it to gallery\n\n  const li = document.createElement('li');\n  li.className = 'gallery-item';\n  gallery.append(li);\n\n  // Adds an link then adds it to line\n  const a = document.createElement('a');\n  a.className = 'gallery-link';\n  a.href = url;\n  li.append(a);\n\n  // Adds an image then adds it to link\n  const image = document.createElement('img');\n  image.className = 'gallery-image';\n  image.src = previewURL;\n  image.title = tag;\n  a.append(image);\n\n  // Adds a div then adds it to line\n  const div = document.createElement('div');\n  div.className = 'info';\n  li.append(div);\n\n  const divLikes = document.createElement('div');\n  const divViews = document.createElement('div');\n  const divComments = document.createElement('div');\n  const divDownloads = document.createElement('div');\n\n  const h3Likes = document.createElement('h3');\n  const h3Views = document.createElement('h3');\n  const h3Comments = document.createElement('h3');\n  const h3Downloads = document.createElement('h3');\n\n  h3Likes.textContent = 'Likes';\n  h3Views.textContent = 'Views';\n  h3Comments.textContent = 'Comments';\n  h3Downloads.textContent = 'Downloads';\n\n  const pLikes = document.createElement('p');\n  const pViews = document.createElement('p');\n  const pComments = document.createElement('p');\n  const pDownloads = document.createElement('p');\n\n  pLikes.textContent = likes;\n  pViews.textContent = views;\n  pComments.textContent = comments;\n  pDownloads.textContent = downloads;\n\n  div.append(divLikes, divViews, divComments, divDownloads);\n\n  divLikes.append(h3Likes, pLikes);\n  divViews.append(h3Views, pViews);\n  divComments.append(h3Comments, pComments);\n  divDownloads.append(h3Downloads, pDownloads);\n\n  galleryy.refresh();\n}\n","// Described in the documentation\nimport iziToast from 'izitoast';\n// Optional import of styles\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderPhotos } from './render-functions.js';\n\nvar API_KEY = '47376754-ed05d64ddcb60a2a475f4c9e7';\nconst searchButton = document.querySelector('button');\nconst loader = document.querySelector('span');\n\nexport function fetchFunction(\n  q,\n  image_type = 'photo',\n  orientation = 'horizontal',\n  safesearch = true\n) {\n  loader.style.display = 'inline-block';\n  fetch(\n    'https://pixabay.com/api/?key=' +\n      API_KEY +\n      '&q=' +\n      encodeURIComponent(q) +\n      '&image_type=' +\n      encodeURIComponent(image_type) +\n      '&orientation=' +\n      encodeURIComponent(orientation) +\n      '&safesearch=' +\n      encodeURIComponent(safesearch)\n  )\n    .then(response => {\n      // Response handling\n      response => response.json();\n      //   console.log(response);\n      return response.json();\n    })\n    .then(data => {\n      // Data handling\n      data => data.json();\n      //   console.log(data);\n\n      if (data.totalHits > 0) {\n        // console.log(data.hits);\n        data.hits.forEach(element => {\n          console.log(\n            element.largeImageURL,\n            element.previewURL,\n            element.tags,\n            element.likes,\n            element.views,\n            element.comments,\n            element.downloads\n          );\n          renderPhotos(\n            element.largeImageURL,\n            element.previewURL,\n            element.tags,\n            element.likes,\n            element.views,\n            element.comments,\n            element.downloads\n          );\n        });\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: 'No results for this search',\n          position: 'topRight',\n        });\n      }\n      console.log('xd');\n      searchButton.disabled = false;\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      // Error handling\n    });\n}\n","// Described in the documentation\nimport iziToast from 'izitoast';\n// Optional import of styles\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchFunction } from './js/pixabay-api.js';\n\nconst searchButton = document.querySelector('button');\nconst inputBar = document.querySelector('input');\n\nsearchButton.addEventListener('click', event => {\n  searchButton.disabled = true;\n  if (!inputBar.value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter search value',\n      position: 'topRight',\n    });\n  } else {\n    fetchFunction(inputBar.value);\n  }\n});\n"],"names":["galleryy","SimpleLightbox","renderPhotos","url","previewURL","tag","likes","views","comments","downloads","gallery","li","a","image","div","divLikes","divViews","divComments","divDownloads","h3Likes","h3Views","h3Comments","h3Downloads","pLikes","pViews","pComments","pDownloads","API_KEY","searchButton","loader","fetchFunction","q","image_type","orientation","safesearch","response","data","element","iziToast","error","inputBar","event"],"mappings":"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"}